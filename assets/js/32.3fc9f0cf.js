(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{319:function(t,a,s){"use strict";s.r(a);var e=s(10),r=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"crud示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#crud示例"}},[t._v("#")]),t._v(" CRUD示例")]),t._v(" "),a("h2",{attrs:{id:"介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[t._v("#")]),t._v(" 介绍")]),t._v(" "),a("p",[a("code",[t._v("appkit/src/crud_do_not_edit")]),t._v("\ncrud功能的示例代码，直接copy，禁止直接在该路径下修改代码")]),t._v(" "),a("h2",{attrs:{id:"初始配置和概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#初始配置和概念"}},[t._v("#")]),t._v(" 初始配置和概念")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("引入并使用tableMixin（搜索并复制）")]),t._v(" "),a("p",[t._v("会自动生成"),a("code",[t._v("tableParams")]),t._v("查询参数，包括当前页和页数")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" tableMixin "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" from "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/mixins/table'")]),t._v("\n  mixins: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("tableMixin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n")])])])]),t._v(" "),a("li",[a("p",[t._v("刷新查询必须使用 "),a("code",[t._v("onRefresh")]),t._v(" 方法名")])]),t._v(" "),a("li",[a("p",[t._v("分页查询必须使用 "),a("code",[t._v("getList")]),t._v(" 方法名")])])]),t._v(" "),a("h2",{attrs:{id:"查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查询"}},[t._v("#")]),t._v(" 查询")]),t._v(" "),a("h4",{attrs:{id:"请求数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#请求数据"}},[t._v("#")]),t._v(" 请求数据")]),t._v(" "),a("p",[t._v("文件目录："),a("code",[t._v("appkit/src/crud_do_not_edit/index.vue")])]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("onRefresh")]),t._v(" 搜索条件发生改变等需要回到第一页的场景")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("getList")]),t._v(" 删除、新增等需要刷新当前页的场景")])])]),t._v(" "),a("h4",{attrs:{id:"筛选条件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#筛选条件"}},[t._v("#")]),t._v(" 筛选条件")]),t._v(" "),a("ul",[a("li",[t._v("在 "),a("code",[t._v("appkit/src/crud_do_not_edit/index.vue")]),t._v(" 的 "),a("code",[t._v("filterForm")]),t._v(" 定义字段")])]),t._v(" "),a("h4",{attrs:{id:"拼装查询参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#拼装查询参数"}},[t._v("#")]),t._v(" 拼装查询参数")]),t._v(" "),a("p",[a("code",[t._v("tableParams")]),t._v(" + "),a("code",[t._v("filterForm")])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("      const params "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".this.tableParams, "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".this.filterForm "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h4",{attrs:{id:"分页"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分页"}},[t._v("#")]),t._v(" 分页")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pageWra"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("goPagination v-model"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tableParams"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/goPagination"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("h2",{attrs:{id:"编辑"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#编辑"}},[t._v("#")]),t._v(" 编辑")]),t._v(" "),a("p",[t._v("文件目录："),a("code",[t._v("appkit/src/crud_do_not_edit/index.vue")]),t._v(" "),a("code",[t._v("onEditRow")]),t._v(" 事件触发编辑，成功后根据业务不同，使用 "),a("code",[t._v("onRefresh")]),t._v(" 或 "),a("code",[t._v("getList")]),t._v(" 刷新列表")]),t._v(" "),a("p",[t._v("编辑弹窗组件在 "),a("code",[t._v("appkit/src/crud_do_not_edit/components/edit.vue")])]),t._v(" "),a("h2",{attrs:{id:"新增"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#新增"}},[t._v("#")]),t._v(" 新增")]),t._v(" "),a("p",[t._v("同 "),a("code",[t._v("编辑")])]),t._v(" "),a("h2",{attrs:{id:"删除"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除"}},[t._v("#")]),t._v(" 删除")]),t._v(" "),a("p",[t._v("文件目录："),a("code",[t._v("appkit/src/crud_do_not_edit/index.vue")])]),t._v(" "),a("p",[a("code",[t._v("onDelRow")]),t._v(" 事件触发删除，成功后根据业务不同，使用 "),a("code",[t._v("onRefresh")]),t._v(" 或 "),a("code",[t._v("getList")]),t._v(" 刷新列表")])])}),[],!1,null,null,null);a.default=r.exports}}]);